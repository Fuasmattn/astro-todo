---
import Layout from "../../layouts/Layout.astro";
import type { List } from "../[listId].json";
import Breadcrumbs from "../../components/Breadcrumbs.astro";

const listResponse = await fetch(`${import.meta.env.API_BASE_URL}/lists.json`);
const lists: List[] = await listResponse.json();
---

<Layout title="Lists | WeAstro">
  <main>
    <section class="p-10">
        <Breadcrumbs />
        <h1 class="text-xl my-6">WeAstro Lists</h1>
        <div class="flex flex-col gap-2">
          {lists.map((list) => (
            <a href=`/lists/${list.id}` >
              <div class="p-4 bg-white bg-opacity-5 hover:bg-opacity-10 rounded transition-bg-opacity ease-in-out duration-200">
                <p class="text-lg mb-2">{list.name}</p>
                <p class="text-white text-opacity-50">{list.description}</p>
              </div>
            </a>))}
        </div>
        </section>
  </main>
</Layout>
